## Nginx

nginx(엔진엑스로 발음)은 러시아 소프트웨어 엔지니어 `이고르 이쇼브`가 작성한 무료 오픈소스 웹 서버 입니다. 
nginx는 2004년 출시 이후 고성능, 높은 동시성 및 낮은 메모리 사용량에 중점을 두었습니다. 
로드 밸런싱, 캐싱, 액세스 및 대역폭 제어와 같은 웹 서버 기능 외에 다양한 애플리케이션과 효율적으로 통합하는 기능은 nginx를 
최신 웹 사이트 아키텍쳐에 적합한 선택으로 만드는데 도움이 되었습니다. 현재 nginx는 인터넷에서 두번째로 인기 있는 오픈 소스 웹서버입니다. 

제가 Apache가 아닌 nginx를 쓰는 이유는 ~~저는 1등보다는 2등이 좋습니다.~~ Python으로 웹 개발을 하면서 nginx랑만 놀아서 그렇습니다. 또한 nginx는 동시성 대기 시간 처리, SSL, 정적 콘텐츠, 압축 및 캐싱, 연결 및 요청 제한 등의 필요한 주요 기능을 제공합니다. 그리고 신속하게 웹서비스를 개발하는데 유용하다고 생각합니다. 

nginx 및 해당 모듈이 작동하는 방식은 구성 파일에서 설정합니다. 기본적으로 파일 이름은 `nginx.conf` 이며 `/usr/local/nginx/conf`, `/etc/nginx` 또는 `/usr/local/etc/nginx`에다가 위치시킵니다. 

오늘은 nginx를 이용해서 Load Balancing을 해보려고 합니다. nginx를 이용해서 http load balancer로 사용해서 여러 애플리케이션 서버에 트래픽을 분산하고 nginx를 웹 애플리케이션의 성능, 확장성 및 안정성을 개선할 수 있다고 합니다. (nginx.org 로드밸런서 소개) 

## 부하 분산 방법

nginx에서 지원되는 로드 밸런싱 방법은 3가지가 있습니다. 
 
 * Round Robin - 서버에 대한 요청이 라운드 로빈 방식으로 분산됩니다. 여기서 라운드 로빈 방식은, 스케쥴링 기법 중 하나이며, 하나의 CPU를 임의의 프로세스가 종료될 때까지 차지하는 것이 아니라, 여러 프로세스들이 CPU를 조금씩 돌아가면서 할당하는 방식입니다. (간단히) 
 * least-connected - 다음 요청은 활성화된 연결이 가장 적은 서버에 할당합니다. 
 * ip-hash - 해시 함수는 클라이언트의 ip 주소를 기반으로 다음 요청을 위해 어떤 서버를 선택해야 하는지 결정하는데 사용합니다.
